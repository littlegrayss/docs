<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>workflow | littlegrayss </title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="/docs/favicon.ico">
    
    <link rel="preload" href="/docs/assets/css/0.styles.112cb9bf.css" as="style"><link rel="preload" href="/docs/assets/js/app.f14f06b9.js" as="script"><link rel="preload" href="/docs/assets/js/2.d91300e0.js" as="script"><link rel="preload" href="/docs/assets/js/12.6a3a5b06.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.318c7b99.js"><link rel="prefetch" href="/docs/assets/js/11.1a408a21.js"><link rel="prefetch" href="/docs/assets/js/13.1675b5b4.js"><link rel="prefetch" href="/docs/assets/js/14.f487a4dc.js"><link rel="prefetch" href="/docs/assets/js/15.ee727848.js"><link rel="prefetch" href="/docs/assets/js/16.da9a83c1.js"><link rel="prefetch" href="/docs/assets/js/17.6acb8452.js"><link rel="prefetch" href="/docs/assets/js/18.b3c1ff0f.js"><link rel="prefetch" href="/docs/assets/js/19.b6262c3f.js"><link rel="prefetch" href="/docs/assets/js/3.19056943.js"><link rel="prefetch" href="/docs/assets/js/4.0454024b.js"><link rel="prefetch" href="/docs/assets/js/5.b14e0981.js"><link rel="prefetch" href="/docs/assets/js/6.d8fc1b10.js"><link rel="prefetch" href="/docs/assets/js/7.53c49649.js"><link rel="prefetch" href="/docs/assets/js/8.328d6d9c.js"><link rel="prefetch" href="/docs/assets/js/9.69dddf06.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.112cb9bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">littlegrayss </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/accumulate/" class="nav-link router-link-active">技术积累</a></li><li class="dropdown-item"><!----> <a href="/docs/lifeThinking/" class="nav-link">生活感悟</a></li><li class="dropdown-item"><!----> <a href="/docs/translation/" class="nav-link">翻译</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/accumulate/" class="nav-link router-link-active">技术积累</a></li><li class="dropdown-item"><!----> <a href="/docs/lifeThinking/" class="nav-link">生活感悟</a></li><li class="dropdown-item"><!----> <a href="/docs/translation/" class="nav-link">翻译</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/accumulate/" class="sidebar-link">技术积累</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>engineering</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/accumulate/engineering/git.html" class="sidebar-link">Git</a></li><li><a href="/docs/accumulate/engineering/workflow.html" class="active sidebar-link">workflow</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/accumulate/engineering/workflow.html#branch-management" class="sidebar-link">Branch Management</a></li><li class="sidebar-sub-header"><a href="/docs/accumulate/engineering/workflow.html#commit-messages-rules" class="sidebar-link">Commit Messages Rules</a></li><li class="sidebar-sub-header"><a href="/docs/accumulate/engineering/workflow.html#version-number" class="sidebar-link">Version Number</a></li><li class="sidebar-sub-header"><a href="/docs/accumulate/engineering/workflow.html#changelog" class="sidebar-link">Changelog</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>demo</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="workflow"><a href="#workflow" class="header-anchor">#</a> workflow</h1> <p>scene:</p> <blockquote><ol><li>一般每个人同一时间只负责一个需求，总有例外
突然接到bug修复，或者更紧急的需求，但是正在开发一个需求时</li> <li>已经迭代过好几个版本了，但是前几个版本的代码有问题，一时之间找不出原因要马上回滚</li> <li>...</li></ol></blockquote> <h2 id="branch-management"><a href="#branch-management" class="header-anchor">#</a> Branch Management</h2> <ul><li>git-flow</li> <li>github flow</li> <li>gitlab-flow</li></ul> <h2 id="commit-messages-rules"><a href="#commit-messages-rules" class="header-anchor">#</a> Commit Messages Rules</h2> <p>查看gitlab上的commit记录很费劲，要看哪些是新功能，哪些是修复</p> <p>目前团队是根据一个需求所有改动进行commit的，[缺点]</p> <p>建议每个功能点都commit一次，[优点]</p> <p>Conventional Commits 约定式提交规范</p> <blockquote><p>它提供了一组用于创建清晰的提交历史的简单规则</p></blockquote> <p>messages格式：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;类型&gt;[可选的作用域]: &lt;描述&gt;
&lt;type&gt;[&lt;scope&gt;]: &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
</code></pre></div><h4 id="type"><a href="#type" class="header-anchor">#</a> type</h4> <div class="language- extra-class"><pre class="language-text"><code># 主要type
feat:     增加新功能
fix:      修复bug

# 特殊type
docs:     只改动了文档相关的内容
style:    不影响代码含义的改动，例如去掉空格、改变缩进、增删分号
build:    构造工具的或者外部依赖的改动，例如webpack，npm
refactor: 代码重构时使用
revert:   执行git revert打印的message

# 次要type
test:     添加测试或者修改现有测试
perf:     提高性能的改动
ci:       与CI（持续集成服务）有关的改动
chore:    不修改src或者test的其余修改，例如构建过程或辅助工具的变动
</code></pre></div><h4 id="scope"><a href="#scope" class="header-anchor">#</a> scope</h4> <p>用于描述改动范围，一般填写项目名/模块名</p> <h4 id="subject"><a href="#subject" class="header-anchor">#</a> subject</h4> <p>简单描述</p> <h4 id="body"><a href="#body" class="header-anchor">#</a> body</h4> <p>详细描述，一般项目这部分开始就不需要填写，subject里面说明就可以了，但是重要提交或者开源项目还是建议详细说明这次改动前的情况和改动动机</p> <h4 id="break-changes"><a href="#break-changes" class="header-anchor">#</a> break changes</h4> <p>指出是否有破坏性修改，不兼容以前接口的改动，例如接口删除、参数减少。</p> <h4 id="affect-issues"><a href="#affect-issues" class="header-anchor">#</a> affect issues</h4> <p>指出影响到的某个问题点，比如引用需求id，issues fixed等</p> <h4 id="具体使用"><a href="#具体使用" class="header-anchor">#</a> 具体使用</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i commitizen cz-conventional-changelog --save-dev
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cz-conventional-changelog&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git-cz&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>或</p> <p>vscode插件：<code>Visual Studio Code Commitizen Support</code></p> <h2 id="version-number"><a href="#version-number" class="header-anchor">#</a> Version Number</h2> <div class="language- extra-class"><pre class="language-text"><code>主版本号.子版本号.修订版本号
</code></pre></div><p>主版本号：当功能模块有较大的变动，非向下兼容或者颠覆性更新，比如增加多个模块或者整体架构发生变化，主版本号+1。</p> <p>子版本号：当功能有一定的增加或变化，向下兼容的修改或添加兼容性更新，比如增加了对权限控制、增加自定义视图等功能，子版本号+1。</p> <p>修订版本号：一般是 Bug 修复或是一些小的变动，要经常发布修订版，时间间隔不限，修复一个严重的bug即可发布一个修订版，修订版本号+1。</p> <p>希腊字母版本号(beta):此版本号用于标注当前版本的软件处于哪个开发阶段，当软件进入到另一个阶段时需要修改此版本号，比如alpha、beta。</p> <p>版本号不会进位，但主版本或子版本+1之后，后面的版本号都清0，进行下一个周期的迭代。</p> <h4 id="git-tag"><a href="#git-tag" class="header-anchor">#</a> git tag</h4> <p>用于记录发布版本的节点。</p> <p>本身是对某次提交打上一个标签，实际上是指向特定提交对象的引用。可以帮助我们快速定位到某个版本，如果该版本出现问题可以快速修复。</p> <p>用法：
<code>git tag v1.0.1</code> <code>git tag v1.1.0 d7f80sd7</code> <code>git checkout -b bugfix-1.3.4 v1.3.4</code></p> <h2 id="changelog"><a href="#changelog" class="header-anchor">#</a> Changelog</h2> <p>commit messages &amp; version number</p> <p>能够生成清晰的提交改动日志，方便查看每次版本的更新内容</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i conventional-changelog-cli --save-dev
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>scripts：<span class="token punctuation">{</span>
    <span class="token string">&quot;changelog&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>npm run changelog =&gt; CHANGELOG.md</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/6/2019, 4:55:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/accumulate/engineering/git.html" class="prev">Git</a></span> <span class="next"><a href="/docs/accumulate/demo/qiniu-upload-chrome-extensions.html">七牛云图床上传插件（chrome 扩展）</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.f14f06b9.js" defer></script><script src="/docs/assets/js/2.d91300e0.js" defer></script><script src="/docs/assets/js/12.6a3a5b06.js" defer></script>
  </body>
</html>
